15.Data Type

- 저장되는 값의 성격에 맞는 최적의 타입을 선정
- 가변 길이 칼럼의 최적의 길이를 지정
- 조인 조건으로 사용되는 칼럼은 똑같은 데이터 타입으로 선정

15.1 문자열 (CHAR와 VARCHAR)

15.1.1 저장 공간

- 고정 길이 실제 입력되는 칼럼값의 길이에 따라 사용하는 저장 공간의 크기 변하지 않음 (CHAR)
- 가변 길이는 최대로 저장할 수 있는 값의 길이 제한돼있지만, 그 이하 크기의 값이 저장되면 그만큼 저장공간이 줄어듬

@ CHAR와 VARCHAR를 선택하는 기준, 칼럼의 값이 얼마나 자주 변경되느냐

VARCHAR의 경우 길이가 변경되면, 저장할 수 없는 구조로 만들어져있기 떄문에 레코드 자체를 다른 공간으로 옮겨서 저장함

15.1.2 저장 공간과 스키마 변경

스카미 변경을 하는 동안에 테이블에 INSERT, UPDATE, DELETE 실행할 수 없게 됨

VARCHAR 타입의 칼럼이 가지는 길이 저장 공간의 크기 때문, 문자열 길이 저장하는 공간의 크기가 바뀌게 되면 스키마 변경을 하는 동안 읽기 잠금을 걸어서 데이터를 변경하지못하도록 막음


15.1.3 문자 집합(캐릭터 셋)

15.1.3.1 클라이언트로부터 쿼리를 요청했을 때의 문자 집합 변환

15.1.3.2 처리결과를 클라이언트로 전송할 때의 문자 집합 변환

15.1.4 콜레이션
문자열 칼럼의 값에 대한 비교나 정렬 순서를 위한 규칙을 의미하는

15.1.4.1 콜레이션 이해

'SHOW COLLATION'

15.1.4.2 utf8mb4 문자 집합의 콜레이션

15.1.5 비교방식

15.1.6 문자열 이스케이프 처리

15.2 숫자
- 참값은 소수점 이하 값의 유무와 관계업시 정확히 그 값을 그대로 유지하는 것을 의미
- 근삿값 부동 소주점이라고 불리는 값을 의미, 칼럼에 저장한 값과 조회된 값이 정확하게 일치하지 않고 비슷한 값으로 관리하는 걸 의미

15.2.1 정수

15.2.2 부동 소수점
FLOAT과 DOUBLE 타입 사용

15.2.3 DECIMAL
유효범위 이외의 값은 가변적이므로 정확한 값으 ㄹ보장할 수 없음

15.2.4 정수 타입의 칼럼을 생성할 떄의 주의사항

15.2.5 자동 증가 옵션 사용
AUTO_INCREMENT 옵션을 사용한 칼럼은 반드시 그 테이블에서 프라이머리 키나 유니크 키의 일부로 정의해야함,
프라이머리 키나 유니크 키가 여려 개의 칼럼으로 구성되면 AUTO_INCREMENT 속성의 칼럼값이 증가하는 패턴엔진 마다 달라짐


15.3. 날짜와 시간
DATE 3바이트, DATETIME 8바이트

15.3.1 자동 업데이트

15.4 ENUM과 SET
숫자값으로 매핑해서 관리하는 타입

15.4.1 ENUM
ENUM 타입은 테이블의 구조에 나열된 목록 중 하나의 값을 가질 수 있음

15.4.2 SET
하나의 칼럼에 1개 이상의 값을 저장할 수 있음

15.5 TEXT와 BLOB

TEXT : 문자열을 저장하는 대용량 칼럼, 문자 집합이나 콜레이션을 가짐
BLOB : 이진 데이터 타입이라 별도의 문자집합이나 콜레이션 가지지않음

15.6 공간 데이터 타입

15.6.1 공간 데이터 생성

15.6.2 공간 데이터 조회

15.7 JSON 타입
15.7.1 저장방식
JSON타입의 값을 BLOB 타입에 저장

15.7.2 부분업데이트 성능
